@(title: String, siteId: Long, widgetIdsList: List[List[Long]], editing: Boolean = true)
@import views.html.sites.widgets._
@import models.widgets._
@import controllers._
@main(title){
@if(editing) {
	@views.html.loggedInNavBar(title)
}
<div class="container@if(editing){ roomForHeader}">
	<div class="row">
		<div class="col-lg-2">
			@views.html.sites.navigation(siteId)
		</div>
		<div class="col-lg-10">
			<div class="container" @if(editing){id="insertPoint" name="insertPoint"}>
				@widgetIdsList.zipWithIndex.map { case(theWidgets, index) =>
				<div class="row" id="row@(index+1)">
					@theWidgets.map { theWidgetId =>
					<div class="col-lg-@(12/theWidgets.length)">
						@Widgets.getTheWidget(theWidgetId)
					</div>
					}
					<div class="row">
						<div class="col-lg-12">
							<div class="navbar navbar-row-editor">
								<div class="btn-group pull-right">
									<button type="button" class="btn btn-default btn-mini navbar-btn dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-edit"></span></button>
									<ul class="dropdown-menu" data-bind="foreach: widgetTypes">
										<li><a tabindex="-1" href="#" data-bind="text: menuText,click:$parent.insertWidget"></a></li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
				}
			</div>
		</div>
	</div>
	<hr>
	<footer>
		<p>&copy; Site Name 2013</p>
	</footer>
</div>
}